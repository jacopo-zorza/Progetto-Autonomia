.fs-map-shell { min-height: calc(100vh - 64px); padding: 32px 24px; display:flex; justify-content:center; align-items:flex-start; background:linear-gradient(155deg, var(--pa-white), #f1faf4); font-family:'Inter','Segoe UI',system-ui,-apple-system,sans-serif; color:var(--pa-dark) }
.fs-map-shell * { box-sizing:border-box }
.fs-map-card { width: 100%; max-width: 1100px; background:#fff; border:1px solid rgba(4,15,15,0.06); border-radius:26px; box-shadow:0 25px 60px rgba(4,15,15,0.08); overflow:hidden; display:flex; flex-direction:column }
.fs-map-toolbar { padding: 18px 28px; background:linear-gradient(120deg, rgba(3,72,35,0.04), rgba(2,72,35,0.08)); border-bottom:1px solid rgba(4,15,15,0.08); display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap }
.fs-map-status { font-size: 0.95rem; color:rgba(4,15,15,0.7); flex:1; font-weight:500 }
.fs-map-controls { display:flex; gap:12px; align-items:center; flex-wrap:wrap; justify-content:flex-end }
.fs-map-radius-form { display:flex; gap:10px; align-items:center; flex-wrap:wrap; background:#ffffff; padding:6px 14px; border:1px solid rgba(15,23,42,0.08); border-radius:999px }
.fs-map-radius-label { font-size:12px; letter-spacing:0.08em; text-transform:uppercase; color:#94a3b8; font-weight:600 }
.fs-map-radius-input { width:90px; padding:6px 8px; border:1px solid rgba(4,15,15,0.16); border-radius:8px; font-size:14px; font-weight:600; color:var(--pa-dark); text-align:center; background:#f6fff8 }
.fs-map-radius-input:focus { outline:2px solid rgba(43,168,74,0.35); border-color:rgba(43,168,74,0.65); background:#fff }
.fs-map-radius-apply { background:var(--pa-green); color:#fff; border:none; border-radius:8px; padding:6px 14px; font-size:13px; font-weight:600; cursor:pointer; transition:transform 0.15s ease, box-shadow 0.15s ease }
.fs-map-radius-apply:hover { transform: translateY(-1px); box-shadow:0 8px 18px rgba(15,155,95,0.25) }
.fs-map-center-btn { background:linear-gradient(135deg,var(--pa-deep-green), var(--pa-green)); color:#fff; border:none; border-radius:999px; padding:8px 20px; font-weight:600; font-size:14px; cursor:pointer; box-shadow:0 14px 30px rgba(2,72,35,0.28); transition:transform 0.15s ease, box-shadow 0.15s ease }
.fs-map-center-btn:hover { transform: translateY(-1px); box-shadow:0 18px 36px rgba(2,72,35,0.32) }
.fs-map-canvas-wrap { width:100%; height: 560px; background:#eef2ff; border-bottom:1px solid rgba(15,23,42,0.05) }
.fs-map-canvas { width:100%; height:100%; min-height:400px }
#map { width:100%; height:100%; }
.fs-map-section { padding:32px 32px 28px; border-top:1px solid rgba(4,15,15,0.06); display:flex; flex-direction:column; gap:20px; background:#fff }
.fs-map-section:first-of-type { border-top:none }
.fs-map-section-muted { background:#f8fafc }
.fs-map-section-head { display:flex; flex-direction:column; gap:6px }
.fs-map-section-head h2 { margin:0; font-size:1.35rem; color:var(--pa-deep-green) }
.fs-map-section-hint { margin:0; color:rgba(4,15,15,0.6); font-size:0.95rem }
.fs-map-chip { align-self:flex-start; border-radius:999px; padding:4px 12px; font-size:0.75rem; letter-spacing:0.08em; text-transform:uppercase; background:rgba(43,168,74,0.12); color:var(--pa-deep-green); font-weight:600 }
.fs-map-summary { display:grid; grid-template-columns:repeat(auto-fit,minmax(190px,1fr)); gap:18px }
.fs-map-summary-item { background:#fff; border:1px solid rgba(4,15,15,0.08); border-radius:18px; padding:18px 20px; display:flex; flex-direction:column; gap:6px; box-shadow:0 18px 40px rgba(4,15,15,0.06) }
.fs-map-summary-item span { font-size:12px; text-transform:uppercase; letter-spacing:0.08em; color:rgba(4,15,15,0.5); font-weight:600 }
.fs-map-summary-item strong { font-size:1.7rem; color:var(--pa-dark); font-weight:700 }
.fs-map-summary-badge { align-self:flex-start; background:rgba(43,168,74,0.15); color:var(--pa-deep-green); border-radius:999px; padding:6px 18px; font-weight:600; font-size:0.8rem; text-transform:uppercase; letter-spacing:0.05em }
.fs-map-summary-badge[data-source="local"] { background:rgba(14,165,233,0.14); color:#0c4a6e }
.fs-map-summary-badge[data-source="none"] { background:rgba(248,250,252,0.9); color:#94a3b8 }
.fs-map-filters { display:flex; flex-wrap:wrap; gap:12px; align-items:center; padding:8px 0 4px }
.fs-map-filter-group { display:flex; gap:8px; flex-wrap:wrap }
.fs-map-filter-chip { border:1px solid rgba(4,15,15,0.12); border-radius:999px; padding:8px 16px; background:#fff; cursor:pointer; font-size:0.9rem; font-weight:600; color:var(--pa-dark); transition:all 0.2s ease }
.fs-map-filter-chip.active { background:var(--pa-deep-green); color:#fff; border-color:var(--pa-deep-green); box-shadow:0 10px 20px rgba(2,72,35,0.35) }
.fs-map-filter-actions { display:flex; gap:12px; align-items:center; flex-wrap:wrap }
.fs-map-toggle { display:flex; align-items:center; gap:6px; font-size:0.9rem; color:#0f172a; font-weight:600 }
.fs-map-toggle input { accent-color:#2ba84a; width:16px; height:16px }
.fs-map-reset { border:none; background:none; color:#ef4444; font-weight:600; cursor:pointer }
.fs-map-sellers-list { display:flex; flex-direction:column; gap:12px; margin-top:4px }
.fs-map-seller-card { border:1px solid rgba(4,15,15,0.08); border-radius:20px; padding:16px 20px; background:#fff; display:flex; flex-wrap:wrap; justify-content:space-between; gap:16px; transition:border-color 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease }
.fs-map-seller-card:hover { border-color:rgba(4,15,15,0.22); transform:translateY(-2px); box-shadow:0 20px 40px rgba(4,15,15,0.12) }
.fs-map-seller-meta { display:flex; flex-direction:column }
.fs-map-seller-meta strong { font-size:1rem; color:var(--pa-deep-green) }
.fs-map-seller-meta span { font-size:0.85rem; color:#475569 }
.fs-map-seller-info { flex:1 1 240px; display:flex; flex-direction:column; gap:4px; color:#475569 }
.fs-map-price { font-weight:700; color:var(--pa-deep-green) }
.fs-map-updated { font-size:0.85rem; color:rgba(4,15,15,0.45) }
.fs-map-seller-actions { display:flex; gap:8px; flex-wrap:wrap }
.fs-map-seller-actions button { border:none; border-radius:999px; padding:8px 16px; font-size:0.9rem; font-weight:600; cursor:pointer; transition:transform 0.15s ease, box-shadow 0.15s ease }
.fs-map-seller-actions button:first-of-type { background:rgba(2,72,35,0.08); color:var(--pa-deep-green) }
.fs-map-seller-actions button:last-of-type { background:rgba(43,168,74,0.15); color:var(--pa-deep-green) }
.fs-map-seller-actions button:hover { transform:translateY(-1px); box-shadow:0 10px 18px rgba(15,23,42,0.15) }
.fs-map-seller-empty { margin:0; padding:18px; border:1px dashed rgba(15,23,42,0.2); border-radius:16px; color:#475569; text-align:center; background:#f8fafc }
.fs-map-cta { display:flex; flex-wrap:wrap; gap:12px; margin-top:16px }
.fs-map-cta button { flex:1 1 220px; padding:16px 22px; border-radius:18px; border:none; font-weight:700; font-size:1rem; cursor:pointer; transition:transform 0.15s ease, box-shadow 0.15s ease }
.fs-map-cta-primary { background:linear-gradient(120deg,var(--pa-deep-green), var(--pa-green)); color:#fff; box-shadow:0 18px 40px rgba(2,72,35,0.32) }
.fs-map-cta-secondary { background:#fff; color:var(--pa-deep-green); border:1px solid rgba(4,15,15,0.12); box-shadow:0 12px 22px rgba(4,15,15,0.08) }
.fs-map-cta button:hover { transform:translateY(-2px) }
.fs-map-manual-hint { margin:12px 0 0; padding:12px 16px; border-radius:14px; background:rgba(37,99,235,0.08); color:#1e3a8a; font-size:0.9rem; font-weight:600 }
.fs-map-bottom { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:18px; margin-top:8px }
.fs-map-history, .fs-map-tips { border:1px solid rgba(4,15,15,0.06); border-radius:20px; background:#fff; padding:18px; box-shadow:0 16px 36px rgba(4,15,15,0.06); display:flex; flex-direction:column; gap:12px }
.fs-map-history-header { display:flex; justify-content:space-between; align-items:center }
.fs-map-history-clear { border:none; background:none; color:#ef4444; font-weight:600; cursor:pointer }
.fs-map-history-row { border:1px solid rgba(4,15,15,0.08); border-radius:14px; padding:12px 14px; display:flex; justify-content:space-between; gap:12px; background:#f6fff8; cursor:pointer; transition:transform 0.15s ease, box-shadow 0.15s ease }
.fs-map-history-row:hover { transform:translateY(-2px); box-shadow:0 12px 24px rgba(4,15,15,0.15) }
.fs-map-history-row span:last-of-type { font-size:0.85rem; color:#475569 }
.fs-map-history-empty { margin:0; color:#94a3b8; font-size:0.9rem }
.fs-map-tips ul { margin:0; padding-left:20px; display:flex; flex-direction:column; gap:6px; color:#475569; font-size:0.95rem }
.fs-map-tips strong { font-size:1rem; color:#0f172a }

.fs-map-advanced-overlay { position:fixed; inset:0; background:rgba(4,15,15,0.55); display:flex; align-items:center; justify-content:center; padding:32px 16px; z-index:1400 }
.fs-map-advanced-card { width:100%; max-width:620px; background:#fff; border-radius:34px; padding:32px; box-shadow:0 32px 80px rgba(4,15,15,0.28); border:1px solid rgba(4,15,15,0.08); display:flex; flex-direction:column; gap:18px; position:relative }
.fs-map-advanced-close { position:absolute; top:20px; right:20px; border:none; background:rgba(255,255,255,0.7); color:#0f172a; font-size:1.3rem; line-height:1; width:36px; height:36px; border-radius:50%; cursor:pointer; box-shadow:0 12px 26px rgba(15,23,42,0.18) }
.fs-map-advanced-close:hover { background:#fff }
.fs-map-advanced-hero { padding:24px; border-radius:26px; background:linear-gradient(135deg,var(--pa-deep-green),#1c8c4c); color:#fff; display:flex; flex-direction:column; gap:10px }
.fs-map-advanced-pill { align-self:flex-start; padding:6px 14px; border-radius:999px; font-size:0.75rem; letter-spacing:0.1em; text-transform:uppercase; background:rgba(255,255,255,0.18); font-weight:600 }
.fs-map-advanced-hero h3 { margin:0; font-size:1.7rem }
.fs-map-advanced-hero p { margin:0; color:rgba(255,255,255,0.9) }
.fs-map-advanced-highlights { display:flex; flex-wrap:wrap; gap:10px }
.fs-map-advanced-highlights span { background:rgba(255,255,255,0.18); border-radius:14px; padding:6px 12px; font-size:0.85rem; font-weight:600 }
.fs-map-advanced-form { display:flex; flex-direction:column; gap:18px }
.fs-map-advanced-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:16px }
.fs-map-advanced-field { display:flex; flex-direction:column; gap:6px }
.fs-map-advanced-label { font-size:0.85rem; font-weight:700; color:#0f172a; text-transform:uppercase; letter-spacing:0.08em }
.fs-map-advanced-inputwrap { display:flex; align-items:center; gap:10px; border:1px solid rgba(15,23,42,0.12); border-radius:16px; padding:10px 14px; background:#f8fafc; box-shadow:inset 0 1px 2px rgba(15,23,42,0.04) }
.fs-map-advanced-icon { font-size:1rem; color:var(--pa-deep-green) }
.fs-map-advanced-unit { margin-left:auto; font-weight:700; color:#0f172a }
.fs-map-advanced-input { flex:1; border:none; background:transparent; font-size:1rem; font-weight:600; color:#0f172a }
.fs-map-advanced-input:focus { outline:none }
.fs-map-advanced-actions { display:flex; justify-content:flex-end; gap:12px }
.fs-map-advanced-searchbtn { border:none; border-radius:999px; padding:12px 24px; font-weight:700; font-size:0.95rem; background:linear-gradient(135deg,#0f766e,#16a34a); color:#fff; cursor:pointer; box-shadow:0 16px 32px rgba(15,118,110,0.35); letter-spacing:0.03em; text-transform:uppercase; transition:transform 0.15s ease, box-shadow 0.15s ease }
.fs-map-advanced-searchbtn:disabled { opacity:0.65; cursor:not-allowed; box-shadow:none }
.fs-map-advanced-searchbtn:hover:not(:disabled) { transform:translateY(-2px); box-shadow:0 20px 38px rgba(15,118,110,0.38) }
.fs-map-advanced-ghost { border:1px solid rgba(15,23,42,0.15); background:#fff; color:#0f172a; border-radius:999px; padding:12px 20px; font-weight:600; cursor:pointer }
.fs-map-advanced-error { margin:0; color:#dc2626; font-weight:600 }
.fs-map-advanced-placeholder { margin:0; color:#475569; font-size:0.95rem }
.fs-map-advanced-results { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:12px; max-height:300px; overflow:auto }
.fs-map-advanced-result { border:1px solid rgba(15,23,42,0.08); border-radius:18px; padding:16px; display:flex; justify-content:space-between; gap:12px; background:linear-gradient(135deg,#ffffff,#f8fafc) }
.fs-map-advanced-result-body { display:flex; flex-direction:column; gap:4px }
.fs-map-advanced-result-body strong { font-size:1rem; color:#0f172a }
.fs-map-advanced-result-body span { font-size:0.85rem; color:#475569 }
.fs-map-advanced-result button { border:none; background:var(--pa-deep-green); color:#fff; border-radius:14px; padding:8px 16px; font-weight:600; cursor:pointer }
.fs-map-advanced-result button:hover { background:#033f1c }

@media (max-width:768px){
	.fs-map-shell { padding:16px }
	.fs-map-card { border-radius:18px }
	.fs-map-toolbar { padding:16px }
	.fs-map-controls { width:100%; justify-content:flex-start }
	.fs-map-center-btn { width:100%; text-align:center }
	.fs-map-radius-form { width:100%; justify-content:space-between }
	.fs-map-radius-input { flex:1 }
	.fs-map-section { padding:24px 20px }
	.fs-map-advanced-card { padding:24px 20px }
	.fs-map-advanced-hero { padding:18px }
	.fs-map-advanced-actions { flex-direction:column }
	.fs-map-advanced-actions button { width:100% }
	.fs-map-bottom { grid-template-columns:1fr }
}
